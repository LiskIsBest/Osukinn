(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))l(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&l(s)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerpolicy&&(o.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?o.credentials="include":r.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function l(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();function j(){}function ke(e){return e()}function fe(){return Object.create(null)}function G(e){e.forEach(ke)}function ve(e){return typeof e=="function"}function re(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let z;function ce(e,t){return z||(z=document.createElement("a")),z.href=t,e===z.href}function ye(e){return Object.keys(e).length===0}function i(e,t){e.appendChild(t)}function C(e,t,n){e.insertBefore(t,n||null)}function x(e){e.parentNode&&e.parentNode.removeChild(e)}function $e(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function d(e){return document.createElement(e)}function p(e){return document.createTextNode(e)}function y(){return p(" ")}function we(){return p("")}function a(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function xe(e){return Array.from(e.childNodes)}function L(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}let I;function U(e){I=e}function Ce(){if(!I)throw new Error("Function called outside component initialization");return I}function Ee(e){Ce().$$.on_mount.push(e)}const P=[],de=[],X=[],me=[],Ne=Promise.resolve();let Y=!1;function Se(){Y||(Y=!0,Ne.then(be))}function Z(e){X.push(e)}const V=new Set;let K=0;function be(){const e=I;do{for(;K<P.length;){const t=P[K];K++,U(t),Te(t.$$)}for(U(null),P.length=0,K=0;de.length;)de.pop()();for(let t=0;t<X.length;t+=1){const n=X[t];V.has(n)||(V.add(n),n())}X.length=0}while(P.length);for(;me.length;)me.pop()();Y=!1,V.clear(),U(e)}function Te(e){if(e.fragment!==null){e.update(),G(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Z)}}const D=new Set;let qe;function ee(e,t){e&&e.i&&(D.delete(e),e.i(t))}function _e(e,t,n,l){if(e&&e.o){if(D.has(e))return;D.add(e),qe.c.push(()=>{D.delete(e),l&&(n&&e.d(1),l())}),e.o(t)}else l&&l()}function he(e){e&&e.c()}function te(e,t,n,l){const{fragment:r,after_update:o}=e.$$;r&&r.m(t,n),l||Z(()=>{const s=e.$$.on_mount.map(ke).filter(ve);e.$$.on_destroy?e.$$.on_destroy.push(...s):G(s),e.$$.on_mount=[]}),o.forEach(Z)}function ne(e,t){const n=e.$$;n.fragment!==null&&(G(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Le(e,t){e.$$.dirty[0]===-1&&(P.push(e),Se(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function le(e,t,n,l,r,o,s,u=[-1]){const m=I;U(e);const f=e.$$={fragment:null,ctx:[],props:o,update:j,not_equal:r,bound:fe(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(m?m.$$.context:[])),callbacks:fe(),dirty:u,skip_bound:!1,root:t.target||m.$$.root};s&&s(f.root);let k=!1;if(f.ctx=n?n(e,t.props||{},(_,v,...$)=>{const b=$.length?$[0]:v;return f.ctx&&r(f.ctx[_],f.ctx[_]=b)&&(!f.skip_bound&&f.bound[_]&&f.bound[_](b),k&&Le(e,_)),v}):[],f.update(),k=!0,G(f.before_update),f.fragment=l?l(f.ctx):!1,t.target){if(t.hydrate){const _=xe(t.target);f.fragment&&f.fragment.l(_),_.forEach(x)}else f.fragment&&f.fragment.c();t.intro&&ee(e.$$.fragment),te(e,t.target,t.anchor,t.customElement),be()}U(m)}class oe{$destroy(){ne(this,1),this.$destroy=j}$on(t,n){if(!ve(n))return j;const l=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return l.push(n),()=>{const r=l.indexOf(n);r!==-1&&l.splice(r,1)}}$set(t){this.$$set&&!ye(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function pe(e,t,n){const l=e.slice();return l[4]=t[n],l}function Me(e){let t,n,l=w(e[4].mania_rank)+"",r,o,s,u,m=w(e[4].osu_rank)+"",f,k,_,v,$=w(e[4].taiko_rank)+"",b,E,S,q,T=w(e[4].fruits_rank)+"",g;return{c(){t=d("p"),n=p("Mania rank: "),r=p(l),o=y(),s=d("p"),u=p("Standard rank: "),f=p(m),k=y(),_=d("p"),v=p("Taiko rank: "),b=p($),E=y(),S=d("p"),q=p("Ctb rank: "),g=p(T),a(t,"class","text-center"),a(s,"class","text-center"),a(_,"class","text-center"),a(S,"class","text-center")},m(c,h){C(c,t,h),i(t,n),i(t,r),C(c,o,h),C(c,s,h),i(s,u),i(s,f),C(c,k,h),C(c,_,h),i(_,v),i(_,b),C(c,E,h),C(c,S,h),i(S,q),i(S,g)},p(c,h){h&4&&l!==(l=w(c[4].mania_rank)+"")&&L(r,l),h&4&&m!==(m=w(c[4].osu_rank)+"")&&L(f,m),h&4&&$!==($=w(c[4].taiko_rank)+"")&&L(b,$),h&4&&T!==(T=w(c[4].fruits_rank)+"")&&L(g,T)},d(c){c&&x(t),c&&x(o),c&&x(s),c&&x(k),c&&x(_),c&&x(E),c&&x(S)}}}function Oe(e){let t,n,l=w(e[4].fruits_rank)+"",r;return{c(){t=d("p"),n=p("Ctb rank: "),r=p(l),a(t,"class","text-center")},m(o,s){C(o,t,s),i(t,n),i(t,r)},p(o,s){s&4&&l!==(l=w(o[4].fruits_rank)+"")&&L(r,l)},d(o){o&&x(t)}}}function je(e){let t,n,l=w(e[4].taiko_rank)+"",r;return{c(){t=d("p"),n=p("Taiko rank: "),r=p(l),a(t,"class","text-center")},m(o,s){C(o,t,s),i(t,n),i(t,r)},p(o,s){s&4&&l!==(l=w(o[4].taiko_rank)+"")&&L(r,l)},d(o){o&&x(t)}}}function Ae(e){let t,n,l=w(e[4].osu_rank)+"",r;return{c(){t=d("p"),n=p("Standard rank: "),r=p(l),a(t,"class","text-center")},m(o,s){C(o,t,s),i(t,n),i(t,r)},p(o,s){s&4&&l!==(l=w(o[4].osu_rank)+"")&&L(r,l)},d(o){o&&x(t)}}}function Fe(e){let t,n,l=w(e[4].mania_rank)+"",r;return{c(){t=d("p"),n=p("Mania rank: "),r=p(l),a(t,"class","text-center")},m(o,s){C(o,t,s),i(t,n),i(t,r)},p(o,s){s&4&&l!==(l=w(o[4].mania_rank)+"")&&L(r,l)},d(o){o&&x(t)}}}function ge(e){let t,n,l=e[4].username+"",r,o,s,u,m,f,k,_,v,$,b=e[4].last_time_refreshed+"",E,S;function q(c,h){return c[0]=="mania"?Fe:c[0]=="osu"?Ae:c[0]=="taiko"?je:c[0]=="fruits"?Oe:Me}let T=q(e),g=T(e);return{c(){t=d("div"),n=d("h2"),r=p(l),o=y(),s=d("a"),u=d("img"),k=y(),g.c(),_=y(),v=d("p"),$=p("Last queried(UTC): "),E=p(b),S=y(),a(n,"class","text-center"),ce(u.src,m=e[4].avatar_url)||a(u,"src",m),a(u,"class","rounded mx-auto d-block"),a(u,"alt",""),a(u,"width","200px"),a(u,"height","200px"),a(s,"href",f="https://osu.ppy.sh/users/"+e[4]._id),a(s,"target","_blank"),a(s,"rel","noreferrer"),a(v,"class","text-center"),a(t,"class",e[1])},m(c,h){C(c,t,h),i(t,n),i(n,r),i(t,o),i(t,s),i(s,u),i(t,k),g.m(t,null),i(t,_),i(t,v),i(v,$),i(v,E),i(t,S)},p(c,h){h&4&&l!==(l=c[4].username+"")&&L(r,l),h&4&&!ce(u.src,m=c[4].avatar_url)&&a(u,"src",m),h&4&&f!==(f="https://osu.ppy.sh/users/"+c[4]._id)&&a(s,"href",f),T===(T=q(c))&&g?g.p(c,h):(g.d(1),g=T(c),g&&(g.c(),g.m(t,_))),h&4&&b!==(b=c[4].last_time_refreshed+"")&&L(E,b),h&2&&a(t,"class",c[1])},d(c){c&&x(t),g.d()}}}function Pe(e){let t,n=e[2],l=[];for(let r=0;r<n.length;r+=1)l[r]=ge(pe(e,n,r));return{c(){for(let r=0;r<l.length;r+=1)l[r].c();t=we()},m(r,o){for(let s=0;s<l.length;s+=1)l[s].m(r,o);C(r,t,o)},p(r,[o]){if(o&7){n=r[2];let s;for(s=0;s<n.length;s+=1){const u=pe(r,n,s);l[s]?l[s].p(u,o):(l[s]=ge(u),l[s].c(),l[s].m(t.parentNode,t))}for(;s<l.length;s+=1)l[s].d(1);l.length=n.length}},i:j,o:j,d(r){$e(l,r),r&&x(t)}}}function w(e){return e==9999999999?"No Rank":Intl.NumberFormat("en-US").format(e)}function Ue(e){return`${location.origin}/users/${e}`}function Ie(e,t,n){let{username_list:l}=t,{mode:r}=t,{class:o=""}=t,s=[];return Ee(async function(){l.forEach(async u=>{console.log(`fetching data for user:${u}`);const f=await(await fetch(Ue(u))).json();console.log(f),s.push(f),n(2,s)})}),e.$$set=u=>{"username_list"in u&&n(3,l=u.username_list),"mode"in u&&n(0,r=u.mode),"class"in u&&n(1,o=u.class)},[r,o,s,l]}class Re extends oe{constructor(t){super(),le(this,t,Ie,Pe,re,{username_list:3,mode:0,class:1})}}function We(e){let t,n,l,r,o,s,u;return{c(){t=d("div"),n=d("form"),l=d("button"),l.textContent="refresh users",r=y(),o=d("input"),s=y(),u=d("input"),a(o,"type","hidden"),a(o,"name","mode"),a(o,"id","mode"),o.value=e[1],a(u,"type","hidden"),a(u,"name","usernames"),a(u,"id","usernames"),u.value=e[0],a(n,"class","col-12 text-center"),a(n,"method","get"),a(n,"action","/update")},m(m,f){C(m,t,f),i(t,n),i(n,l),i(n,r),i(n,o),i(n,s),i(n,u)},p(m,[f]){f&2&&(o.value=m[1]),f&1&&(u.value=m[0])},i:j,o:j,d(m){m&&x(t)}}}function Be(e,t,n){let{username_list:l}=t;console.log(l);let{mode:r}=t;return l=l.toString(),e.$$set=o=>{"username_list"in o&&n(0,l=o.username_list),"mode"in o&&n(1,r=o.mode)},[l,r]}class He extends oe{constructor(t){super(),le(this,t,Be,We,re,{username_list:0,mode:1})}}function ze(e){let t,n,l,r,o,s,u,m,f,k,_,v,$,b,E,S,q,T,g,c,h,A,R,se,M,ie,O,ae,W,ue,B,H;return M=new Re({props:{class:"col-md-6 col-sm-6 col-lg-3 border border-primary",username_list:e[1],mode:e[0]}}),O=new He({props:{username_list:e[1],mode:e[0]}}),{c(){t=d("main"),n=d("body"),l=d("div"),r=d("form"),o=d("label"),o.textContent="Enter usernames (ex: username1, username2, etc..)",s=y(),u=d("br"),m=y(),f=d("div"),k=d("select"),_=d("option"),_.textContent="Mania",v=d("option"),v.textContent="Standard",$=d("option"),$.textContent="Taiko",b=d("option"),b.textContent="Ctb",E=d("option"),E.textContent="All",S=y(),q=d("input"),T=y(),g=d("input"),c=d("br"),h=y(),A=d("div"),R=d("h1"),R.textContent="User",se=y(),he(M.$$.fragment),ie=y(),he(O.$$.fragment),ae=y(),W=d("div"),W.innerHTML='<h3 class="text-center">Work in progress</h3>',ue=y(),B=d("div"),B.innerHTML=`<ul class="text-center"><li>Mode selector: choose which gamemode to use when showing rank.</li> 
      <li>The &quot;all&quot; gamemode option lists all ranks for each gamemode per player.</li> 
      <li>If any other gamemode is selected with more than one user entered, the highest ranked user will be shown above the others.</li> 
      <li>Text box: enter Osu! profile usernames seperated by commas. EX: &quot;jakads, whitecat&quot;</li> 
      <li>Refresh button: refreshes data for each user listed.</li></ul>`,a(o,"for","usernames"),_.__value="mania",_.value=_.__value,v.__value="osu",v.value=v.__value,$.__value="taiko",$.value=$.__value,b.__value="fruits",b.value=b.__value,E.__value="all",E.value=E.__value,a(k,"name","mode"),a(q,"type","hidden"),a(q,"id","mode"),a(g,"type","text"),a(g,"id","usernames"),a(g,"name","usernames"),a(f,"class","d-inline-flex"),a(r,"class","col-12 text-center"),a(r,"method","get"),a(r,"action","/"),a(l,"class","row d-flex"),a(R,"class","text-center"),a(A,"class","d-flex row justify-content-center border border-secondary"),a(W,"class","col-12 row d-flex"),a(B,"class","col-12 row d-flex")},m(N,F){C(N,t,F),i(t,n),i(n,l),i(l,r),i(r,o),i(r,s),i(r,u),i(r,m),i(r,f),i(f,k),i(k,_),i(k,v),i(k,$),i(k,b),i(k,E),i(f,S),i(f,q),i(f,T),i(f,g),i(f,c),i(n,h),i(n,A),i(A,R),i(A,se),te(M,A,null),i(n,ie),te(O,n,null),i(n,ae),i(n,W),i(n,ue),i(n,B),H=!0},p(N,[F]){const J={};F&2&&(J.username_list=N[1]),F&1&&(J.mode=N[0]),M.$set(J);const Q={};F&2&&(Q.username_list=N[1]),F&1&&(Q.mode=N[0]),O.$set(Q)},i(N){H||(ee(M.$$.fragment,N),ee(O.$$.fragment,N),H=!0)},o(N){_e(M.$$.fragment,N),_e(O.$$.fragment,N),H=!1},d(N){N&&x(t),ne(M),ne(O)}}}function Ke(e,t,n){const l=window.location.search,r=new URLSearchParams(l);let o=r.get("usernames"),s=r.get("mode");(o==null||o=="")&&(o="None"),(s==null||o=="")&&(s="mania");let u=o.split(",");return u=u.map(m=>m.trim()),console.log(u),console.log(o,s),console.log(u),[s,u]}class Xe extends oe{constructor(t){super(),le(this,t,Ke,ze,re,{})}}new Xe({target:document.getElementById("app")});
