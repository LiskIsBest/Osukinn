(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))l(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&l(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerpolicy&&(s.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?s.credentials="include":r.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function l(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function A(){}function ke(e){return e()}function fe(){return Object.create(null)}function D(e){e.forEach(ke)}function ve(e){return typeof e=="function"}function re(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let H;function ce(e,t){return H||(H=document.createElement("a")),H.href=t,e===H.href}function ye(e){return Object.keys(e).length===0}function i(e,t){e.appendChild(t)}function C(e,t,n){e.insertBefore(t,n||null)}function x(e){e.parentNode&&e.parentNode.removeChild(e)}function $e(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function d(e){return document.createElement(e)}function g(e){return document.createTextNode(e)}function y(){return g(" ")}function we(){return g("")}function a(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function xe(e){return Array.from(e.childNodes)}function O(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}let U;function P(e){U=e}function Ce(){if(!U)throw new Error("Function called outside component initialization");return U}function Ee(e){Ce().$$.on_mount.push(e)}const I=[],de=[],K=[],me=[],Ne=Promise.resolve();let Y=!1;function Le(){Y||(Y=!0,Ne.then(be))}function Z(e){K.push(e)}const V=new Set;let G=0;function be(){const e=U;do{for(;G<I.length;){const t=I[G];G++,P(t),Se(t.$$)}for(P(null),I.length=0,G=0;de.length;)de.pop()();for(let t=0;t<K.length;t+=1){const n=K[t];V.has(n)||(V.add(n),n())}K.length=0}while(I.length);for(;me.length;)me.pop()();Y=!1,V.clear(),P(e)}function Se(e){if(e.fragment!==null){e.update(),D(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Z)}}const X=new Set;let qe;function ee(e,t){e&&e.i&&(X.delete(e),e.i(t))}function _e(e,t,n,l){if(e&&e.o){if(X.has(e))return;X.add(e),qe.c.push(()=>{X.delete(e),l&&(n&&e.d(1),l())}),e.o(t)}else l&&l()}function he(e){e&&e.c()}function te(e,t,n,l){const{fragment:r,after_update:s}=e.$$;r&&r.m(t,n),l||Z(()=>{const o=e.$$.on_mount.map(ke).filter(ve);e.$$.on_destroy?e.$$.on_destroy.push(...o):D(o),e.$$.on_mount=[]}),s.forEach(Z)}function ne(e,t){const n=e.$$;n.fragment!==null&&(D(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Oe(e,t){e.$$.dirty[0]===-1&&(I.push(e),Le(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function le(e,t,n,l,r,s,o,u=[-1]){const m=U;P(e);const f=e.$$={fragment:null,ctx:[],props:s,update:A,not_equal:r,bound:fe(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(m?m.$$.context:[])),callbacks:fe(),dirty:u,skip_bound:!1,root:t.target||m.$$.root};o&&o(f.root);let k=!1;if(f.ctx=n?n(e,t.props||{},(_,v,...$)=>{const b=$.length?$[0]:v;return f.ctx&&r(f.ctx[_],f.ctx[_]=b)&&(!f.skip_bound&&f.bound[_]&&f.bound[_](b),k&&Oe(e,_)),v}):[],f.update(),k=!0,D(f.before_update),f.fragment=l?l(f.ctx):!1,t.target){if(t.hydrate){const _=xe(t.target);f.fragment&&f.fragment.l(_),_.forEach(x)}else f.fragment&&f.fragment.c();t.intro&&ee(e.$$.fragment),te(e,t.target,t.anchor,t.customElement),be()}P(m)}class se{$destroy(){ne(this,1),this.$destroy=A}$on(t,n){if(!ve(n))return A;const l=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return l.push(n),()=>{const r=l.indexOf(n);r!==-1&&l.splice(r,1)}}$set(t){this.$$set&&!ye(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function pe(e,t,n){const l=e.slice();return l[4]=t[n],l}function Te(e){let t,n,l=w(e[4].mania_rank)+"",r,s,o,u,m=w(e[4].osu_rank)+"",f,k,_,v,$=w(e[4].taiko_rank)+"",b,E,L,q,S=w(e[4].fruits_rank)+"",p;return{c(){t=d("p"),n=g("Mania rank: "),r=g(l),s=y(),o=d("p"),u=g("Standard rank: "),f=g(m),k=y(),_=d("p"),v=g("Taiko rank: "),b=g($),E=y(),L=d("p"),q=g("Ctb rank: "),p=g(S),a(t,"class","text-center"),a(o,"class","text-center"),a(_,"class","text-center"),a(L,"class","text-center")},m(c,h){C(c,t,h),i(t,n),i(t,r),C(c,s,h),C(c,o,h),i(o,u),i(o,f),C(c,k,h),C(c,_,h),i(_,v),i(_,b),C(c,E,h),C(c,L,h),i(L,q),i(L,p)},p(c,h){h&4&&l!==(l=w(c[4].mania_rank)+"")&&O(r,l),h&4&&m!==(m=w(c[4].osu_rank)+"")&&O(f,m),h&4&&$!==($=w(c[4].taiko_rank)+"")&&O(b,$),h&4&&S!==(S=w(c[4].fruits_rank)+"")&&O(p,S)},d(c){c&&x(t),c&&x(s),c&&x(o),c&&x(k),c&&x(_),c&&x(E),c&&x(L)}}}function Me(e){let t,n,l=w(e[4].fruits_rank)+"",r;return{c(){t=d("p"),n=g("Ctb rank: "),r=g(l),a(t,"class","text-center")},m(s,o){C(s,t,o),i(t,n),i(t,r)},p(s,o){o&4&&l!==(l=w(s[4].fruits_rank)+"")&&O(r,l)},d(s){s&&x(t)}}}function Ae(e){let t,n,l=w(e[4].taiko_rank)+"",r;return{c(){t=d("p"),n=g("Taiko rank: "),r=g(l),a(t,"class","text-center")},m(s,o){C(s,t,o),i(t,n),i(t,r)},p(s,o){o&4&&l!==(l=w(s[4].taiko_rank)+"")&&O(r,l)},d(s){s&&x(t)}}}function je(e){let t,n,l=w(e[4].osu_rank)+"",r;return{c(){t=d("p"),n=g("Standard rank: "),r=g(l),a(t,"class","text-center")},m(s,o){C(s,t,o),i(t,n),i(t,r)},p(s,o){o&4&&l!==(l=w(s[4].osu_rank)+"")&&O(r,l)},d(s){s&&x(t)}}}function Fe(e){let t,n,l=w(e[4].mania_rank)+"",r;return{c(){t=d("p"),n=g("Mania rank: "),r=g(l),a(t,"class","text-center")},m(s,o){C(s,t,o),i(t,n),i(t,r)},p(s,o){o&4&&l!==(l=w(s[4].mania_rank)+"")&&O(r,l)},d(s){s&&x(t)}}}function ge(e){let t,n,l=e[4].username+"",r,s,o,u,m,f,k,_,v,$,b=e[4].last_time_refreshed+"",E,L;function q(c,h){return c[0]=="mania"?Fe:c[0]=="osu"?je:c[0]=="taiko"?Ae:c[0]=="fruits"?Me:Te}let S=q(e),p=S(e);return{c(){t=d("div"),n=d("h2"),r=g(l),s=y(),o=d("a"),u=d("img"),k=y(),p.c(),_=y(),v=d("p"),$=g("Last queried(UTC): "),E=g(b),L=y(),a(n,"class","text-center"),ce(u.src,m=e[4].avatar_url)||a(u,"src",m),a(u,"class","rounded mx-auto d-block"),a(u,"alt",""),a(u,"width","200px"),a(u,"height","200px"),a(o,"href",f="https://osu.ppy.sh/users/"+e[4]._id),a(o,"target","_blank"),a(o,"rel","noreferrer"),a(v,"class","text-center"),a(t,"class",e[1])},m(c,h){C(c,t,h),i(t,n),i(n,r),i(t,s),i(t,o),i(o,u),i(t,k),p.m(t,null),i(t,_),i(t,v),i(v,$),i(v,E),i(t,L)},p(c,h){h&4&&l!==(l=c[4].username+"")&&O(r,l),h&4&&!ce(u.src,m=c[4].avatar_url)&&a(u,"src",m),h&4&&f!==(f="https://osu.ppy.sh/users/"+c[4]._id)&&a(o,"href",f),S===(S=q(c))&&p?p.p(c,h):(p.d(1),p=S(c),p&&(p.c(),p.m(t,_))),h&4&&b!==(b=c[4].last_time_refreshed+"")&&O(E,b),h&2&&a(t,"class",c[1])},d(c){c&&x(t),p.d()}}}function Ie(e){let t,n=e[2],l=[];for(let r=0;r<n.length;r+=1)l[r]=ge(pe(e,n,r));return{c(){for(let r=0;r<l.length;r+=1)l[r].c();t=we()},m(r,s){for(let o=0;o<l.length;o+=1)l[o].m(r,s);C(r,t,s)},p(r,[s]){if(s&7){n=r[2];let o;for(o=0;o<n.length;o+=1){const u=pe(r,n,o);l[o]?l[o].p(u,s):(l[o]=ge(u),l[o].c(),l[o].m(t.parentNode,t))}for(;o<l.length;o+=1)l[o].d(1);l.length=n.length}},i:A,o:A,d(r){$e(l,r),r&&x(t)}}}function w(e){return e==9999999999?"No Rank":Intl.NumberFormat("en-US").format(e)}function Pe(e){return`${location.origin}/users/${e}`}function Ue(e,t,n){let{username_list:l}=t,{mode:r}=t,{class:s=""}=t,o=[];return Ee(async function(){l.forEach(async u=>{console.log(`fetching data for user:${u}`);const f=await(await fetch(Pe(u))).json();o.push(f),n(2,o)})}),e.$$set=u=>{"username_list"in u&&n(3,l=u.username_list),"mode"in u&&n(0,r=u.mode),"class"in u&&n(1,s=u.class)},[r,s,o,l]}class Be extends se{constructor(t){super(),le(this,t,Ue,Ie,re,{username_list:3,mode:0,class:1})}}function Re(e){let t,n,l,r,s,o,u;return{c(){t=d("div"),n=d("form"),l=d("button"),l.textContent="refresh users",r=y(),s=d("input"),o=y(),u=d("input"),a(s,"type","hidden"),a(s,"name","mode"),a(s,"id","mode"),s.value=e[1],a(u,"type","hidden"),a(u,"name","usernames"),a(u,"id","usernames"),u.value=e[0],a(n,"class","col-12 text-center"),a(n,"method","get"),a(n,"action","/update")},m(m,f){C(m,t,f),i(t,n),i(n,l),i(n,r),i(n,s),i(n,o),i(n,u)},p(m,[f]){f&2&&(s.value=m[1]),f&1&&(u.value=m[0])},i:A,o:A,d(m){m&&x(t)}}}function We(e,t,n){let{username_list:l}=t,{mode:r}=t;return l=l.toString(),e.$$set=s=>{"username_list"in s&&n(0,l=s.username_list),"mode"in s&&n(1,r=s.mode)},[l,r]}class ze extends se{constructor(t){super(),le(this,t,We,Re,re,{username_list:0,mode:1})}}function He(e){let t,n,l,r,s,o,u,m,f,k,_,v,$,b,E,L,q,S,p,c,h,j,B,oe,T,ie,M,ae,R,ue,W,z;return T=new Be({props:{class:"col-md-6 col-sm-6 col-lg-3 border border-primary",username_list:e[1],mode:e[0]}}),M=new ze({props:{username_list:e[1],mode:e[0]}}),{c(){t=d("main"),n=d("body"),l=d("div"),r=d("form"),s=d("label"),s.textContent="Enter usernames (ex: username1, username2, etc..)",o=y(),u=d("br"),m=y(),f=d("div"),k=d("select"),_=d("option"),_.textContent="All",v=d("option"),v.textContent="Mania",$=d("option"),$.textContent="Standard",b=d("option"),b.textContent="Taiko",E=d("option"),E.textContent="Ctb",L=y(),q=d("input"),S=y(),p=d("input"),c=d("br"),h=y(),j=d("div"),B=d("h1"),B.textContent="User",oe=y(),he(T.$$.fragment),ie=y(),he(M.$$.fragment),ae=y(),R=d("div"),R.innerHTML='<h3 class="text-center">Work in progress</h3>',ue=y(),W=d("div"),W.innerHTML=`<ul class="text-center"><li>Mode selector: choose which gamemode to use when showing rank.</li> 
      <li>The &quot;all&quot; gamemode option lists all ranks for each gamemode per player.</li> 
      <li>Text box: enter Osu! profile usernames seperated by commas. EX: &quot;jakads, whitecat&quot;</li> 
      <li>Refresh button: refreshes data for each user listed.</li> 
      <li>Github: <a href="https://github.com/LiskIsBest/Osukinn">LiskIsBest/Osukinn</a></li></ul>`,a(s,"for","usernames"),_.selected=!0,_.__value="all",_.value=_.__value,v.__value="mania",v.value=v.__value,$.__value="osu",$.value=$.__value,b.__value="taiko",b.value=b.__value,E.__value="fruits",E.value=E.__value,a(k,"name","mode"),a(q,"type","hidden"),a(q,"id","mode"),a(p,"type","text"),a(p,"id","usernames"),a(p,"name","usernames"),a(p,"class","svelte-1vz1ssq"),a(f,"class","d-inline-flex"),a(r,"class","col-12 text-center"),a(r,"method","get"),a(r,"action","/"),a(l,"class","row d-flex"),a(B,"class","text-center"),a(j,"class","d-flex row justify-content-center border border-secondary"),a(R,"class","col-12 row d-flex"),a(W,"class","col-12 row d-flex")},m(N,F){C(N,t,F),i(t,n),i(n,l),i(l,r),i(r,s),i(r,o),i(r,u),i(r,m),i(r,f),i(f,k),i(k,_),i(k,v),i(k,$),i(k,b),i(k,E),i(f,L),i(f,q),i(f,S),i(f,p),i(f,c),i(n,h),i(n,j),i(j,B),i(j,oe),te(T,j,null),i(n,ie),te(M,n,null),i(n,ae),i(n,R),i(n,ue),i(n,W),z=!0},p(N,[F]){const J={};F&2&&(J.username_list=N[1]),F&1&&(J.mode=N[0]),T.$set(J);const Q={};F&2&&(Q.username_list=N[1]),F&1&&(Q.mode=N[0]),M.$set(Q)},i(N){z||(ee(T.$$.fragment,N),ee(M.$$.fragment,N),z=!0)},o(N){_e(T.$$.fragment,N),_e(M.$$.fragment,N),z=!1},d(N){N&&x(t),ne(T),ne(M)}}}function Ge(e,t,n){const l=window.location.search,r=new URLSearchParams(l);let s=r.get("usernames"),o=r.get("mode");(s==null||s=="")&&(s="None"),(o==null||s=="")&&(o="all");let u=s.split(",");return u=u.map(m=>m.trim()),[o,u]}class Ke extends se{constructor(t){super(),le(this,t,Ge,He,re,{})}}new Ke({target:document.getElementById("app")});
