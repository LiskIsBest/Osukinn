(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))l(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&l(s)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerpolicy&&(o.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?o.credentials="include":r.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function l(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();function T(){}function me(e){return e()}function se(){return Object.create(null)}function G(e){e.forEach(me)}function pe(e){return typeof e=="function"}function te(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let W;function ie(e,t){return W||(W=document.createElement("a")),W.href=t,e===W.href}function ge(e){return Object.keys(e).length===0}function i(e,t){e.appendChild(t)}function C(e,t,n){e.insertBefore(t,n||null)}function w(e){e.parentNode&&e.parentNode.removeChild(e)}function ke(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function d(e){return document.createElement(e)}function h(e){return document.createTextNode(e)}function x(){return h(" ")}function ve(){return h("")}function u(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function be(e){return Array.from(e.childNodes)}function O(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}let I;function U(e){I=e}function ye(){if(!I)throw new Error("Function called outside component initialization");return I}function $e(e){ye().$$.on_mount.push(e)}const P=[],ae=[],K=[],ue=[],we=Promise.resolve();let V=!1;function xe(){V||(V=!0,we.then(he))}function X(e){K.push(e)}const Q=new Set;let z=0;function he(){const e=I;do{for(;z<P.length;){const t=P[z];z++,U(t),Ce(t.$$)}for(U(null),P.length=0,z=0;ae.length;)ae.pop()();for(let t=0;t<K.length;t+=1){const n=K[t];Q.has(n)||(Q.add(n),n())}K.length=0}while(P.length);for(;ue.length;)ue.pop()();V=!1,Q.clear(),U(e)}function Ce(e){if(e.fragment!==null){e.update(),G(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(X)}}const D=new Set;let Ee;function Y(e,t){e&&e.i&&(D.delete(e),e.i(t))}function fe(e,t,n,l){if(e&&e.o){if(D.has(e))return;D.add(e),Ee.c.push(()=>{D.delete(e),l&&(n&&e.d(1),l())}),e.o(t)}else l&&l()}function ce(e){e&&e.c()}function Z(e,t,n,l){const{fragment:r,after_update:o}=e.$$;r&&r.m(t,n),l||X(()=>{const s=e.$$.on_mount.map(me).filter(pe);e.$$.on_destroy?e.$$.on_destroy.push(...s):G(s),e.$$.on_mount=[]}),o.forEach(X)}function ee(e,t){const n=e.$$;n.fragment!==null&&(G(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Ne(e,t){e.$$.dirty[0]===-1&&(P.push(e),xe(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function ne(e,t,n,l,r,o,s,a=[-1]){const _=I;U(e);const f=e.$$={fragment:null,ctx:[],props:o,update:T,not_equal:r,bound:se(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(_?_.$$.context:[])),callbacks:se(),dirty:a,skip_bound:!1,root:t.target||_.$$.root};s&&s(f.root);let k=!1;if(f.ctx=n?n(e,t.props||{},(m,v,...y)=>{const b=y.length?y[0]:v;return f.ctx&&r(f.ctx[m],f.ctx[m]=b)&&(!f.skip_bound&&f.bound[m]&&f.bound[m](b),k&&Ne(e,m)),v}):[],f.update(),k=!0,G(f.before_update),f.fragment=l?l(f.ctx):!1,t.target){if(t.hydrate){const m=be(t.target);f.fragment&&f.fragment.l(m),m.forEach(w)}else f.fragment&&f.fragment.c();t.intro&&Y(e.$$.fragment),Z(e,t.target,t.anchor,t.customElement),he()}U(_)}class re{$destroy(){ee(this,1),this.$destroy=T}$on(t,n){if(!pe(n))return T;const l=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return l.push(n),()=>{const r=l.indexOf(n);r!==-1&&l.splice(r,1)}}$set(t){this.$$set&&!ge(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function de(e,t,n){const l=e.slice();return l[4]=t[n],l}function Se(e){let t,n,l=$(e[4].mania_rank)+"",r,o,s,a,_=$(e[4].osu_rank)+"",f,k,m,v,y=$(e[4].taiko_rank)+"",b,E,S,L,A=$(e[4].fruits_rank)+"",g;return{c(){t=d("p"),n=h("Mania rank: "),r=h(l),o=x(),s=d("p"),a=h("Standard rank: "),f=h(_),k=x(),m=d("p"),v=h("Taiko rank: "),b=h(y),E=x(),S=d("p"),L=h("Ctb rank: "),g=h(A),u(t,"class","text-center"),u(s,"class","text-center"),u(m,"class","text-center"),u(S,"class","text-center")},m(c,p){C(c,t,p),i(t,n),i(t,r),C(c,o,p),C(c,s,p),i(s,a),i(s,f),C(c,k,p),C(c,m,p),i(m,v),i(m,b),C(c,E,p),C(c,S,p),i(S,L),i(S,g)},p(c,p){p&4&&l!==(l=$(c[4].mania_rank)+"")&&O(r,l),p&4&&_!==(_=$(c[4].osu_rank)+"")&&O(f,_),p&4&&y!==(y=$(c[4].taiko_rank)+"")&&O(b,y),p&4&&A!==(A=$(c[4].fruits_rank)+"")&&O(g,A)},d(c){c&&w(t),c&&w(o),c&&w(s),c&&w(k),c&&w(m),c&&w(E),c&&w(S)}}}function Ae(e){let t,n,l=$(e[4].fruits_rank)+"",r;return{c(){t=d("p"),n=h("Ctb rank: "),r=h(l),u(t,"class","text-center")},m(o,s){C(o,t,s),i(t,n),i(t,r)},p(o,s){s&4&&l!==(l=$(o[4].fruits_rank)+"")&&O(r,l)},d(o){o&&w(t)}}}function Le(e){let t,n,l=$(e[4].taiko_rank)+"",r;return{c(){t=d("p"),n=h("Taiko rank: "),r=h(l),u(t,"class","text-center")},m(o,s){C(o,t,s),i(t,n),i(t,r)},p(o,s){s&4&&l!==(l=$(o[4].taiko_rank)+"")&&O(r,l)},d(o){o&&w(t)}}}function Oe(e){let t,n,l=$(e[4].osu_rank)+"",r;return{c(){t=d("p"),n=h("Standard rank: "),r=h(l),u(t,"class","text-center")},m(o,s){C(o,t,s),i(t,n),i(t,r)},p(o,s){s&4&&l!==(l=$(o[4].osu_rank)+"")&&O(r,l)},d(o){o&&w(t)}}}function je(e){let t,n,l=$(e[4].mania_rank)+"",r;return{c(){t=d("p"),n=h("Mania rank: "),r=h(l),u(t,"class","text-center")},m(o,s){C(o,t,s),i(t,n),i(t,r)},p(o,s){s&4&&l!==(l=$(o[4].mania_rank)+"")&&O(r,l)},d(o){o&&w(t)}}}function _e(e){let t,n,l=e[4].username+"",r,o,s,a,_,f,k,m,v,y,b=e[4].last_time_refreshed+"",E,S;function L(c,p){return c[0]=="mania"?je:c[0]=="osu"?Oe:c[0]=="taiko"?Le:c[0]=="fruits"?Ae:Se}let A=L(e),g=A(e);return{c(){t=d("div"),n=d("h2"),r=h(l),o=x(),s=d("a"),a=d("img"),k=x(),g.c(),m=x(),v=d("p"),y=h("Last queried(UTC): "),E=h(b),S=x(),u(n,"class","text-center"),ie(a.src,_=e[4].avatar_url)||u(a,"src",_),u(a,"class","rounded mx-auto d-block"),u(a,"alt",""),u(a,"width","200px"),u(a,"height","200px"),u(s,"href",f="https://osu.ppy.sh/users/"+e[4]._id),u(s,"target","_blank"),u(s,"rel","noreferrer"),u(v,"class","text-center"),u(t,"class",e[1])},m(c,p){C(c,t,p),i(t,n),i(n,r),i(t,o),i(t,s),i(s,a),i(t,k),g.m(t,null),i(t,m),i(t,v),i(v,y),i(v,E),i(t,S)},p(c,p){p&4&&l!==(l=c[4].username+"")&&O(r,l),p&4&&!ie(a.src,_=c[4].avatar_url)&&u(a,"src",_),p&4&&f!==(f="https://osu.ppy.sh/users/"+c[4]._id)&&u(s,"href",f),A===(A=L(c))&&g?g.p(c,p):(g.d(1),g=A(c),g&&(g.c(),g.m(t,m))),p&4&&b!==(b=c[4].last_time_refreshed+"")&&O(E,b),p&2&&u(t,"class",c[1])},d(c){c&&w(t),g.d()}}}function Me(e){let t,n=e[2],l=[];for(let r=0;r<n.length;r+=1)l[r]=_e(de(e,n,r));return{c(){for(let r=0;r<l.length;r+=1)l[r].c();t=ve()},m(r,o){for(let s=0;s<l.length;s+=1)l[s].m(r,o);C(r,t,o)},p(r,[o]){if(o&7){n=r[2];let s;for(s=0;s<n.length;s+=1){const a=de(r,n,s);l[s]?l[s].p(a,o):(l[s]=_e(a),l[s].c(),l[s].m(t.parentNode,t))}for(;s<l.length;s+=1)l[s].d(1);l.length=n.length}},i:T,o:T,d(r){ke(l,r),r&&w(t)}}}function $(e){return e==9999999999?"No Rank":Intl.NumberFormat("en-US").format(e)}function Te(e){return`https://www.osukinn.com/users/${e}`}function qe(e,t,n){let{username_list:l}=t,{mode:r}=t,{class:o=""}=t,s=[];return $e(async function(){l.forEach(async a=>{console.log(`fetching data for user:${a}`);const f=await(await fetch(Te(a))).json();console.log(f),s.push(f),n(2,s)})}),e.$$set=a=>{"username_list"in a&&n(3,l=a.username_list),"mode"in a&&n(0,r=a.mode),"class"in a&&n(1,o=a.class)},[r,o,s,l]}class Fe extends re{constructor(t){super(),ne(this,t,qe,Me,te,{username_list:3,mode:0,class:1})}}function Pe(e){let t,n,l,r,o,s,a;return{c(){t=d("div"),n=d("form"),l=d("button"),l.textContent="refresh users",r=x(),o=d("input"),s=x(),a=d("input"),u(o,"type","hidden"),u(o,"name","mode"),u(o,"id","mode"),o.value=e[1],u(a,"type","hidden"),u(a,"name","usernames"),u(a,"id","usernames"),a.value=e[0],u(n,"class","col-12 text-center"),u(n,"method","get"),u(n,"action","/update")},m(_,f){C(_,t,f),i(t,n),i(n,l),i(n,r),i(n,o),i(n,s),i(n,a)},p(_,[f]){f&2&&(o.value=_[1]),f&1&&(a.value=_[0])},i:T,o:T,d(_){_&&w(t)}}}function Ue(e,t,n){let{username_list:l}=t;console.log(l);let{mode:r}=t;return l=l.toString(),e.$$set=o=>{"username_list"in o&&n(0,l=o.username_list),"mode"in o&&n(1,r=o.mode)},[l,r]}class Ie extends re{constructor(t){super(),ne(this,t,Ue,Pe,te,{username_list:0,mode:1})}}function Re(e){let t,n,l,r,o,s,a,_,f,k,m,v,y,b,E,S,L,A,g,c,p,q,R,le,j,oe,M,B;return j=new Fe({props:{class:"col-md-6 col-sm-6 col-lg-3 border border-primary",username_list:e[1],mode:e[0]}}),M=new Ie({props:{username_list:e[1],mode:e[0]}}),{c(){t=d("main"),n=d("body"),l=d("div"),r=d("form"),o=d("label"),o.textContent="Enter usernames (ex: username1, username2, etc..)",s=x(),a=d("br"),_=x(),f=d("div"),k=d("select"),m=d("option"),m.textContent="Mania",v=d("option"),v.textContent="Standard",y=d("option"),y.textContent="Taiko",b=d("option"),b.textContent="Ctb",E=d("option"),E.textContent="All",S=x(),L=d("input"),A=x(),g=d("input"),c=d("br"),p=x(),q=d("div"),R=d("h1"),R.textContent="User",le=x(),ce(j.$$.fragment),oe=x(),ce(M.$$.fragment),u(o,"for","usernames"),m.__value="mania",m.value=m.__value,v.__value="osu",v.value=v.__value,y.__value="taiko",y.value=y.__value,b.__value="fruits",b.value=b.__value,E.__value="all",E.value=E.__value,u(k,"name","mode"),u(L,"type","hidden"),u(L,"id","mode"),u(g,"type","text"),u(g,"id","usernames"),u(g,"name","usernames"),u(f,"class","d-inline-flex"),u(r,"class","col-12 text-center"),u(r,"method","get"),u(r,"action","/"),u(l,"class","row d-flex"),u(R,"class","text-center"),u(q,"class","d-flex row justify-content-center border border-secondary")},m(N,F){C(N,t,F),i(t,n),i(n,l),i(l,r),i(r,o),i(r,s),i(r,a),i(r,_),i(r,f),i(f,k),i(k,m),i(k,v),i(k,y),i(k,b),i(k,E),i(f,S),i(f,L),i(f,A),i(f,g),i(f,c),i(n,p),i(n,q),i(q,R),i(q,le),Z(j,q,null),i(n,oe),Z(M,n,null),B=!0},p(N,[F]){const H={};F&2&&(H.username_list=N[1]),F&1&&(H.mode=N[0]),j.$set(H);const J={};F&2&&(J.username_list=N[1]),F&1&&(J.mode=N[0]),M.$set(J)},i(N){B||(Y(j.$$.fragment,N),Y(M.$$.fragment,N),B=!0)},o(N){fe(j.$$.fragment,N),fe(M.$$.fragment,N),B=!1},d(N){N&&w(t),ee(j),ee(M)}}}function Be(e,t,n){const l=window.location.search,r=new URLSearchParams(l);let o=r.get("usernames"),s=r.get("mode");(o==null||o=="")&&(o="None"),(s==null||o=="")&&(s="mania");let a=o.split(",");return a=a.map(_=>_.trim()),console.log(a),console.log(o,s),console.log(a),[s,a]}class We extends re{constructor(t){super(),ne(this,t,Be,Re,te,{})}}new We({target:document.getElementById("app")});
